{"version":3,"file":"static/js/905.bdc3a50d.chunk.js","mappings":"8PACA,GAAgB,WAAa,oCAAoC,mBAAqB,4CAA4C,oBAAsB,8C,SCyBxJ,MAxBA,SAAwBA,GAAiD,IAADC,EAA7CC,EAAYF,EAAZE,aAAcC,EAAeH,EAAfG,gBAAiBC,EAAUJ,EAAVI,WACxD,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAAA,WAAgBC,SAAUP,EAAWG,SAAA,EACpDF,EAAAA,EAAAA,KAAA,SAAOO,QAAQ,QAAQH,UAAWC,EAAAA,mBAAuBH,UACvDF,EAAAA,EAAAA,KAAA,SACEI,UAAWC,EAAAA,mBACXG,MAAgC,QAA3BZ,EAAEC,EAAaY,IAAI,gBAAQ,IAAAb,EAAAA,EAAI,GACpCc,SAAU,SAAAC,GACRb,EAAgB,CAAEc,MAAOD,EAAEE,OAAOL,OACpC,EACAM,KAAK,OACLC,KAAK,QACLC,GAAG,aAGPhB,EAAAA,EAAAA,KAAA,UAAQI,UAAWC,EAAAA,oBAAyBS,KAAK,SAAQZ,SAAC,eAMlE,E,kBCiDA,MAhEA,WAAmB,IAADN,EAChBqB,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAwCC,EAAAA,EAAAA,IAAgB,IAAGC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAApD1B,EAAY4B,EAAA,GAAE3B,EAAe2B,EAAA,GACpCC,GAAwBR,EAAAA,EAAAA,UAAS,GAAES,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,EAAsC,QAA5BlC,EAAGC,EAAaY,IAAI,gBAAQ,IAAAb,EAAAA,EAAI,GAIhD,SAEemC,IAAgB,OAAAC,EAAAC,MAAC,KAADC,UAAA,UAAAF,IAY9B,OAZ8BA,GAAAG,EAAAA,EAAAA,GAAAC,IAAAA,MAA/B,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEkD,OAFlDF,EAAAC,KAAA,EAEIE,QAAQC,IAAI,yKAAkCJ,EAAAE,KAAA,EACvBG,MAAM,GAADC,OACvBC,EAAAA,EAAQ,wBAAAD,OAAuBhB,EAAU,UAAAgB,OAASlB,GACrDoB,EAAAA,GACA,KAAD,EAHa,OAARV,EAAQE,EAAAS,KAAAT,EAAAE,KAAA,EAIKJ,EAASY,OAAO,KAAD,EAAxB,OAAJX,EAAIC,EAAAS,KAAAT,EAAAW,OAAA,SACHZ,GAAI,cAAAC,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAEL,IAAIa,MAAM,8GAAyB,KAAD,oBAAAb,EAAAc,OAAA,GAAAjB,EAAA,oBAE3CJ,MAAA,KAAAC,UAAA,CA2BD,OAzBAqB,EAAAA,EAAAA,YAAU,WACRxB,IACGyB,MAAK,SAAAC,GAEFnC,EADEM,EAAO,EACC,SAAA8B,GAAS,SAAAZ,QAAAa,EAAAA,EAAAA,GAAQD,IAASC,EAAAA,EAAAA,GAAKF,EAAMG,SAAO,EAG9CH,EAAMG,QAClB,IACCC,OAAM,SAAAC,GAAK,OAAInB,QAAQC,IAAIkB,EAAM,GAEtC,GAAG,CAAClC,KAeFzB,EAAAA,EAAAA,MAAAF,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAAC+D,EAAe,CACdlE,aAAcA,EACdC,gBAAiBA,EACjBC,WAjBW,SAAAY,GACfA,EAAEqD,iBACgC,KAA9BnE,EAAaY,IAAI,UACnBwD,MAAM,2BAERlC,IACGyB,MAAK,SAAAC,GACJnC,EAAUmC,EAAMG,QAClB,IACCC,OAAM,SAAAC,GAAK,OAAInB,QAAQC,IAAIkB,EAAM,GACtC,KAWI9D,EAAAA,EAAAA,KAACkE,EAAAA,EAAkB,CAACC,UAAW9C,IAC9BA,EAAO+C,OAAS,IAAKpE,EAAAA,EAAAA,KAACqE,EAAAA,EAAW,CAACxC,QAASA,MAGlD,C,6ECvEA,IAAMkB,EAAW,+BAIXC,EAAU,CACdsB,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cANF,0P","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieSearch/SearchMovieForm/SearchMovieForm.module.css?b5b0","components/MovieSearch/SearchMovieForm/SearchMovieForm.jsx","pages/Movies.jsx","services/OptionsAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form_query\":\"SearchMovieForm_form_query__OFPqi\",\"search_query_input\":\"SearchMovieForm_search_query_input__-dz79\",\"search_query_button\":\"SearchMovieForm_search_query_button__GxPTe\"};","import css from './SearchMovieForm.module.css';\n\nfunction SearchMovieForm({ searchParams, setSearchParams, submitForm }) {\n  return (\n    <>\n      <form className={css.form_query} onSubmit={submitForm}>\n        <label htmlFor=\"query\" className={css.search_query_label}>\n          <input\n            className={css.search_query_input}\n            value={searchParams.get('query') ?? ''}\n            onChange={e => {\n              setSearchParams({ query: e.target.value });\n            }}\n            type=\"text\"\n            name=\"query\"\n            id=\"query\"\n          />\n        </label>\n        <button className={css.search_query_button} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default SearchMovieForm;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { options, BASE_URL } from 'services/OptionsAPI';\n\nimport SearchMovieForm from 'components/MovieSearch/SearchMovieForm/SearchMovieForm';\nimport UniversalMovieList from 'components/UniversalMoviesList/UniversalMoviesList';\nimport LoadMoreBtn from 'components/LoadMoreBtn/LoadMoreBtn';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const [page, setPage] = useState(1);\n  const queryValue = searchParams.get('query') ?? '';\n\n  // const location = useLocation();\n\n  // API.FetchMovies(`search/movie?query=${queryValue}`, 1).then().catch();\n\n  async function fetchSearchMovie() {\n    try {\n      console.log(`Виконується фетч пошуку фільму`);\n      const responce = await fetch(\n        `${BASE_URL}/search/movie?query=${queryValue}&page=${page}`,\n        options\n      );\n      const data = await responce.json();\n      return data;\n    } catch (error) {\n      throw new Error('Упс щось пішло не так');\n    }\n  }\n\n  useEffect(() => {\n    fetchSearchMovie()\n      .then(movie => {\n        if (page > 1) {\n          setMovies(prevState => [...prevState, ...movie.results]);\n          return;\n        }\n        setMovies(movie.results);\n      })\n      .catch(error => console.log(error));\n    // eslint-disable-next-line\n  }, [page]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (searchParams.get('query') === '') {\n      alert('Please enter movie name');\n    }\n    fetchSearchMovie()\n      .then(movie => {\n        setMovies(movie.results);\n      })\n      .catch(error => console.log(error));\n  };\n\n  return (\n    <>\n      <SearchMovieForm\n        searchParams={searchParams}\n        setSearchParams={setSearchParams}\n        submitForm={onSubmit}\n      />\n\n      {/* <SearchMovieList location={location} movies={movies} /> */}\n      <UniversalMovieList movieList={movies} />\n      {movies.length > 0 && <LoadMoreBtn setPage={setPage} />}\n    </>\n  );\n}\n\nexport default Movies;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOWNhMTczNzkwZWQ5NzdkZGM3ZDgzYTA0NmQ3ZTIwMiIsIm5iZiI6MTczOTEyMTk4OS44NTIsInN1YiI6IjY3YThlNTQ1MDhkZmY5MDMxOGYxMTkwZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.K59AU-jgWUYBFO064D_SN_0Dl_uXHhDAAsm48CRTA0c';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: API_KEY,\n  },\n};\n\nexport { BASE_URL, options };\n"],"names":["_ref","_searchParams$get","searchParams","setSearchParams","submitForm","_jsx","_Fragment","children","_jsxs","className","css","onSubmit","htmlFor","value","get","onChange","e","query","target","type","name","id","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","_useState3","_useState4","page","setPage","queryValue","fetchSearchMovie","_fetchSearchMovie","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","responce","data","_context","prev","next","console","log","fetch","concat","BASE_URL","options","sent","json","abrupt","t0","Error","stop","useEffect","then","movie","prevState","_toConsumableArray","results","catch","error","SearchMovieForm","preventDefault","alert","UniversalMovieList","movieList","length","LoadMoreBtn","method","headers","accept","Authorization"],"sourceRoot":""}