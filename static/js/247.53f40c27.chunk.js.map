{"version":3,"file":"static/js/247.53f40c27.chunk.js","mappings":"gNAGMA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WA6EZ,UA1EA,WACE,IAAAC,GAA4BC,EAAAA,EAAAA,UAASF,GAAYG,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1CI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAA0BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA0BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAChBG,GAASC,EAAAA,EAAAA,MAETC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,2PAIqB,SAAAC,IAiB1B,OAjB0BA,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAA3B,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACyB,KAAnBf,EAAOgB,QAAc,CAAAH,EAAAE,KAAA,eAAAF,EAAAI,OAAA,iBAK2B,OAL3BJ,EAAAC,KAAA,EAKvBI,QAAQC,IAAI,wKAAsCN,EAAAE,KAAA,EAE3BK,MAAM,sCAADC,OACYrB,EAAOgB,QAAO,YACpDd,GACA,KAAD,EAHa,OAARS,EAAQE,EAAAS,KAAAT,EAAAE,KAAA,EAIUJ,EAASY,OAAO,KAAD,EAAxB,OAATX,EAASC,EAAAS,KAAAT,EAAAI,OAAA,SACRL,GAAS,cAAAC,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAEV,IAAIY,MAAM,8GAAyB,KAAD,oBAAAZ,EAAAa,OAAA,GAAAhB,EAAA,oBAE3CiB,MAAA,KAAAC,UAAA,CAgBD,OAdAC,EAAAA,EAAAA,YAAU,WACRtC,EAAUN,GAtBV,WAEyB,OAAAsB,EAAAoB,MAAC,KAADC,UAAA,CAqBzBE,GACGC,MAAK,SAAArC,GACJC,EAASD,GACTH,EAAUN,EACZ,IACC+C,OAAM,SAAAlC,GACLC,EAASD,GACTP,EAAUN,EACZ,GAEJ,GAAG,IAECK,IAAWL,GAEXgD,EAAAA,EAAAA,KAAA,MAAAC,SACGxC,EAAMyC,KAAKC,KAAI,SAACD,EAAME,GAAK,OAC1BC,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACED,EAAAA,EAAAA,KAAA,OACEM,IAAG,kCAAAlB,OAAoCc,EAAKK,cAC5CC,IAAI,SAENR,EAAAA,EAAAA,KAAA,KAAAC,SAAIC,EAAKO,QACTJ,EAAAA,EAAAA,MAAA,KAAAJ,SAAA,CAAG,cAAYC,EAAKQ,eANbR,EAAKS,GAOT,MAMTtD,IAAWL,GACNgD,EAAAA,EAAAA,KAAA,KAAAC,SAAG,4FAGR5C,IAAWL,GACNgD,EAAAA,EAAAA,KAAA,KAAAC,SAAIpC,EAAM+C,eADnB,CAGF,C","sources":["components/Cast/Cast.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst Status = {\n  IDLE: 'idle', //в режимі очікування\n  PENDING: 'pending', //очікується виконання\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction Cast() {\n  const [status, setStatus] = useState(Status.IDLE);\n  const [casts, setCasts] = useState([]);\n  const [error, setError] = useState(null);\n  const params = useParams();\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOWNhMTczNzkwZWQ5NzdkZGM3ZDgzYTA0NmQ3ZTIwMiIsIm5iZiI6MTczOTEyMTk4OS44NTIsInN1YiI6IjY3YThlNTQ1MDhkZmY5MDMxOGYxMTkwZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.K59AU-jgWUYBFO064D_SN_0Dl_uXHhDAAsm48CRTA0c',\n    },\n  };\n\n  async function fetchCredits() {\n    if (params.movieId === '') {\n      return;\n    }\n\n    try {\n      console.log(`Виконується фетч в компоненті Cast`);\n\n      const responce = await fetch(\n        `https://api.themoviedb.org/3/movie/${params.movieId}/credits`,\n        options\n      );\n      const castsData = await responce.json();\n      return castsData;\n    } catch (error) {\n      throw new Error('Упс щось пішло не так');\n    }\n  }\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    fetchCredits()\n      .then(casts => {\n        setCasts(casts);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  if (status === Status.RESOLVED) {\n    return (\n      <ul>\n        {casts.cast.map((cast, index) => (\n          <li key={cast.id}>\n            <img\n              src={`https://image.tmdb.org/t/p/w200${cast.profile_path}`}\n              alt=\"pic\"\n            />\n            <p>{cast.name}</p>\n            <p>Character: {cast.character}</p>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  if (status === Status.PENDING) {\n    return <p>Завантажується...</p>;\n  }\n\n  if (status === Status.RESOLVED) {\n    return <p>{error.message}</p>;\n  }\n}\n\nexport default Cast;\n"],"names":["Status","_useState","useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","casts","setCasts","_useState5","_useState6","error","setError","params","useParams","options","method","headers","accept","Authorization","_fetchCredits","_asyncToGenerator","_regeneratorRuntime","_callee","responce","castsData","_context","prev","next","movieId","abrupt","console","log","fetch","concat","sent","json","t0","Error","stop","apply","arguments","useEffect","fetchCredits","then","catch","_jsx","children","cast","map","index","_jsxs","src","profile_path","alt","name","character","id","message"],"sourceRoot":""}