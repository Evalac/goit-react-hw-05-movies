"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[828],{828:function(e,n,r){r.r(n);var i=r(861),t=r(439),s=r(757),c=r.n(s),l=r(203),o=r(791),a=r(184),h="idle",d="pending",u="resolved",p="rejected";n.default=function(){var e,n,r=(0,o.useState)(h),s=(0,t.Z)(r,2),j=s[0],x=s[1],v=(0,o.useState)([]),m=(0,t.Z)(v,2),f=m[0],g=m[1],w=(0,o.useState)(null),I=(0,t.Z)(w,2),k=I[0],T=I[1],Z=(0,l.UO)(),_=(0,l.TH)(),N=(0,o.useRef)(null!==(e=null===(n=_.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/"),b={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOWNhMTczNzkwZWQ5NzdkZGM3ZDgzYTA0NmQ3ZTIwMiIsIm5iZiI6MTczOTEyMTk4OS44NTIsInN1YiI6IjY3YThlNTQ1MDhkZmY5MDMxOGYxMTkwZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.K59AU-jgWUYBFO064D_SN_0Dl_uXHhDAAsm48CRTA0c"}};function J(){return(J=(0,i.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==Z.movieId){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,console.log("\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0444\u0435\u0442\u0447 \u0432 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0456 movieDetails"),e.next=6,fetch("https://api.themoviedb.org/3/movie/".concat(Z.movieId,"?language=en-US"),b);case 6:return n=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(2),new Error("\u0423\u043f\u0441, \u0449\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e\u0442 \u043d\u0435 \u0442\u0430\u043a...");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){x(d),function(){return J.apply(this,arguments)}().then((function(e){g(e),x(u),console.log(f)})).catch((function(e){T(e),x(p)}))}),[]),j===d?(0,a.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f..."}):j===u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.rU,{to:N.current,children:"Back to movie list"}),(0,a.jsxs)("main",{children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(f.poster_path),alt:"poster"})}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)("p",{children:f.title})}),(0,a.jsx)("li",{children:(0,a.jsxs)("p",{children:["User score/popularit: ",f.popularity]})}),(0,a.jsxs)("li",{children:[(0,a.jsx)("p",{children:"Overview"}),(0,a.jsx)("p",{children:f.overview})]}),(0,a.jsxs)("li",{children:["Geners:",f.genres.map((function(e){return(0,a.jsx)("p",{children:e.name},e.id)}))]})]})]}),(0,a.jsx)("p",{children:"Additional information"}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.rU,{to:"cast",children:"Cast"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.rU,{to:"reviews",children:"Reviews"})})]})}),(0,a.jsx)(l.j3,{})]})]}):j===p?(0,a.jsx)("p",{children:k.message}):void 0}}}]);
//# sourceMappingURL=828.84361c82.chunk.js.map