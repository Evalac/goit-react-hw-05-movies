{"version":3,"file":"static/js/802.46ed0106.chunk.js","mappings":"gNAGMA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAiFZ,UA9EA,WACE,IAAAC,GAA4BC,EAAAA,EAAAA,UAASF,GAAYG,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1CI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAAoCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAA0BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAChBG,GAASC,EAAAA,EAAAA,MAETC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,2PAIoB,SAAAC,IAiBzB,OAjByBA,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAA1B,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACyB,KAAnBf,EAAOgB,QAAc,CAAAH,EAAAE,KAAA,eAAAF,EAAAI,OAAA,iBAK2B,OAL3BJ,EAAAC,KAAA,EAKvBI,QAAQC,IAAI,wKAAsCN,EAAAE,KAAA,EAE3BK,MAAM,sCAADC,OACYrB,EAAOgB,QAAO,YACpDd,GACA,KAAD,EAHa,OAARS,EAAQE,EAAAS,KAAAT,EAAAE,KAAA,EAIQJ,EAASY,OAAO,KAAD,EAAxB,OAAPX,EAAOC,EAAAS,KAAAT,EAAAI,OAAA,SACNL,GAAO,cAAAC,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAER,IAAIY,MAAM,8GAAyB,KAAD,oBAAAZ,EAAAa,OAAA,GAAAhB,EAAA,oBAE3CiB,MAAA,KAAAC,UAAA,CAgBD,OAdAC,EAAAA,EAAAA,YAAU,WACRtC,EAAUN,GAtBV,WAEwB,OAAAsB,EAAAoB,MAAC,KAADC,UAAA,CAqBxBE,GACGC,MAAK,SAAAC,GACJrC,EAAcqC,GACdzC,EAAUN,EACZ,IACCgD,OAAM,SAAAnC,GACLC,EAASD,GACTP,EAAUN,EACZ,GAEJ,GAAG,IAECK,IAAWL,GAEXiD,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACG1C,EAAW2C,QAAQC,QAAU,GAC5BJ,EAAAA,EAAAA,KAAA,KAAAE,SAAG,8CAEHF,EAAAA,EAAAA,KAAA,WAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAAE,SACG1C,EAAW2C,QAAQE,KAAI,SAACC,EAAQC,GAAK,OACpCC,EAAAA,EAAAA,MAAA,MAAAN,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKI,EAAOG,UACZT,EAAAA,EAAAA,KAAA,WAAAE,SAAUI,EAAOI,YAFVH,EAGJ,UASfnD,IAAWL,GACNiD,EAAAA,EAAAA,KAAA,KAAAE,SAAG,4FAGR9C,IAAWL,GACNiD,EAAAA,EAAAA,KAAA,KAAAE,SAAItC,EAAM+C,eADnB,CAGF,C","sources":["components/Review/Review.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst Status = {\n  IDLE: 'idle', //в режимі очікування\n  PENDING: 'pending', //очікується виконання\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction Review() {\n  const [status, setStatus] = useState(Status.IDLE);\n  const [reviewData, setReviewData] = useState([]);\n  const [error, setError] = useState(null);\n  const params = useParams();\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkOWNhMTczNzkwZWQ5NzdkZGM3ZDgzYTA0NmQ3ZTIwMiIsIm5iZiI6MTczOTEyMTk4OS44NTIsInN1YiI6IjY3YThlNTQ1MDhkZmY5MDMxOGYxMTkwZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.K59AU-jgWUYBFO064D_SN_0Dl_uXHhDAAsm48CRTA0c',\n    },\n  };\n\n  async function fetchReview() {\n    if (params.movieId === '') {\n      return;\n    }\n\n    try {\n      console.log(`Виконується фетч в компоненті Cast`);\n\n      const responce = await fetch(\n        `https://api.themoviedb.org/3/movie/${params.movieId}/reviews`,\n        options\n      );\n      const revData = await responce.json();\n      return revData;\n    } catch (error) {\n      throw new Error('Упс щось пішло не так');\n    }\n  }\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    fetchReview()\n      .then(data => {\n        setReviewData(data);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        {reviewData.results.length <= 0 ? (\n          <p>We don't have any reviews for this movie</p>\n        ) : (\n          <section>\n            <ul>\n              {reviewData.results.map((review, index) => (\n                <li key={index}>\n                  <h1>{review.author}</h1>\n                  <article>{review.content}</article>\n                </li>\n              ))}\n            </ul>\n          </section>\n        )}\n      </>\n    );\n  }\n\n  if (status === Status.PENDING) {\n    return <p>Завантажується...</p>;\n  }\n\n  if (status === Status.RESOLVED) {\n    return <p>{error.message}</p>;\n  }\n}\n\nexport default Review;\n"],"names":["Status","_useState","useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","reviewData","setReviewData","_useState5","_useState6","error","setError","params","useParams","options","method","headers","accept","Authorization","_fetchReview","_asyncToGenerator","_regeneratorRuntime","_callee","responce","revData","_context","prev","next","movieId","abrupt","console","log","fetch","concat","sent","json","t0","Error","stop","apply","arguments","useEffect","fetchReview","then","data","catch","_jsx","_Fragment","children","results","length","map","review","index","_jsxs","author","content","message"],"sourceRoot":""}